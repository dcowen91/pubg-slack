{"version":3,"file":"CommandAdapter.js","sourceRoot":"","sources":["../../src/Models/CommandAdapter.ts"],"names":[],"mappings":";;AACA,2CAAkD;AAGlD;IAIC,YAAY,GAAY;QAEvB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IAChB,CAAC;IAED,aAAa,CAAC,QAAgB,EAAE,WAAmB;QAGlD,MAAM,MAAM,GAAG,gBAAgB,GAAG,QAAQ,CAAC;QAC3C,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;YACrB,KAAK,OAAO;gBACZ,CAAC;oBACA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,WAAwB;wBAC1E,IAAI,GAAG,GAAG,EAAE,CAAC;wBACb,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,WAAW,CAAC,KAAK,CAAC,CAClC,CAAC;4BACA,MAAM,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;4BACtC,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,IAAI,CAAC,CAC7B,CAAC;gCACA,GAAG,IAAI,GAAG,GAAG,QAAQ,CAAC,KAAK,GAAG,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,oBAAQ,CAAC,MAAM,CAAC,CAAC,YAAY,GAAG,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,oBAAQ,CAAC,MAAM,CAAC,CAAC,KAAK,GAAG,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,oBAAQ,CAAC,YAAY,CAAC,CAAC,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC,oBAAQ,CAAC,YAAY,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;4BACpP,CAAC;wBACF,CAAC;wBACD,MAAM,CAAC,GAAG,CAAC;oBACZ,CAAC,CAAC,CAAC;gBACJ,CAAC;YACD,KAAK,IAAI,CAAC;YACV,KAAK,KAAK;gBACV,CAAC;oBACA,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI;wBACtD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;wBACxB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;wBACjC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,GAAI,GAAG,CAAC;oBACrK,CAAC,CAAC,CAAC;gBAGJ,CAAC;YACD,KAAK,QAAQ;gBACb,CAAC;oBACA,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACtB,KAAK,CAAC;gBACP,CAAC;YACD,KAAK,MAAM;gBACX,CAAC;oBACA,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oBACpB,KAAK,CAAC;gBACP,CAAC;YACD,KAAK,OAAO;gBACZ,CAAC;oBACA,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;oBACrB,KAAK,CAAC;gBACP,CAAC;YACD;gBACC,KAAK,CAAC;QACR,CAAC;QACD,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAE/B,CAAC;CACD;AAED,kBAAe,cAAc,CAAC","sourcesContent":["import {PubgAPI} from 'pubg-api-redis';\r\nimport {PlayerStats, StatName} from './pubgStats';\r\n// also import PubgAPIErrors\r\n\r\nclass CommandAdapter\r\n{\r\n\tapi: PubgAPI;\r\n\r\n\tconstructor(api: PubgAPI)\r\n\t{\r\n\t\tthis.api = api;\r\n\t}\r\n\r\n\thandleCommand(userName: string, commandText: string): Promise<string>\r\n\t{\r\n\t\t// TODO ALL THIS\r\n\t\tconst result = 'not supported ' + userName;\r\n\t\tswitch (commandText) {\r\n\t\t\tcase 'stats':\r\n\t\t\t{\r\n\t\t\t\treturn this.api.profile.byNickname(userName).then((playerStats: PlayerStats) => {\r\n\t\t\t\t\tlet str = '';\r\n\t\t\t\t\tfor (const i in playerStats.Stats)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst gameType = playerStats.Stats[i];\r\n\t\t\t\t\t\tif (gameType.Region === 'na')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tstr += '*' + gameType.Match + '*: ' + gameType.Stats[StatName.Rating].displayValue + ' ' + gameType.Stats[StatName.Rating].label + ' (' + gameType.Stats[StatName.RoundsPlayed].displayValue + gameType.Stats[StatName.RoundsPlayed].label + ')\\n';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn str;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tcase 'kd':\r\n\t\t\tcase 'kdr':\r\n\t\t\t{\r\n\t\t\t\treturn this.api.profile.byNickname(userName).then((data) => {\r\n\t\t\t\t\tconsole.log(data.Stats);\r\n\t\t\t\t\tconsole.log(data.Stats[0].Stats);\r\n\t\t\t\t\treturn data.Stats[0].Match + ': ' + data.Stats[0].Stats[0].label + ' : ' + data.Stats[0].Stats[0].displayValue + '(top ' + data.Stats[0].Stats[0].percentile +  ')';\r\n\t\t\t\t});\r\n\t\t\t\t// console.log('kd');\r\n\t\t\t\t// break;\r\n\t\t\t}\r\n\t\t\tcase 'rating':\r\n\t\t\t{\r\n\t\t\t\tconsole.log('rating');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'wins':\r\n\t\t\t{\r\n\t\t\t\tconsole.log('wins');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'top10':\r\n\t\t\t{\r\n\t\t\t\tconsole.log('top10');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn Promise.reject(result);\r\n\t\t// return result;\r\n\t}\r\n}\r\n\r\nexport default CommandAdapter;"]}