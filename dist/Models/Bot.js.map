{"version":3,"file":"Bot.js","sourceRoot":"","sources":["../../src/Models/Bot.ts"],"names":[],"mappings":";;AAIA;IAMC,YAAY,GAAa,EAAE,cAA8B,EAAE,YAA0B;QAGpF,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QACpB,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IAClC,CAAC;IAED,KAAK;QAEJ,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC3C,CAAC;IAED,WAAW,CAAC,MAAc,EAAE,OAAe;QAE1C,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC7C,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CACd,CAAC;YACA,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;QAElD,CAAC;QACD,IAAI,CACJ,CAAC;YACA,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YACpE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAErB,CAAC;IACF,CAAC;CACD;AAED,kBAAe,GAAG,CAAC","sourcesContent":["import UsersMap from './UsersMap';\r\nimport CommandAdapter from './CommandAdapter';\r\nimport SlackAdapter from './SlackAdapter';\r\n\r\nclass Bot\r\n{\r\n\tusersMap: UsersMap;\r\n\tcommandAdapter: CommandAdapter;\r\n\tslackAdapter: SlackAdapter;\r\n\r\n\tconstructor(map: UsersMap, commandAdapter: CommandAdapter, slackAdapter: SlackAdapter)\r\n\t{\r\n\t\t// TODO do we need usersMap here?\r\n\t\tthis.usersMap = map;\r\n\t\tthis.commandAdapter = commandAdapter;\r\n\t\tthis.slackAdapter = slackAdapter;\r\n\t}\r\n\r\n\tstart()\r\n\t{\r\n\t\tthis.slackAdapter.start(this.handleInput);\r\n\t}\r\n\r\n\thandleInput(userId: string, command: string)\r\n\t{\r\n\t\tconsole.log('sup');\r\n\t\tconsole.log(this);\r\n\t\tlet userName = this.usersMap.getUser(userId);\r\n\t\tif (!userName)\r\n\t\t{\r\n\t\t\tconsole.log('no match');\r\n\t\t\tuserName = this.slackAdapter.promptForUserName();\r\n\t\t\t// TODO this.usersMap.addUser(userId, userName);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tconst result = this.commandAdapter.handleCommand(userName, command);\r\n\t\t\tconsole.log(result);\r\n\t\t\t// TODO slackAdapter send response\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Bot;"]}